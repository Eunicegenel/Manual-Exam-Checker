<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Manual Exam Checker</title>
	<style>
		body {
			width: 100vw;
			height: 100vh;
			position: relative;
			margin: 0;
			padding: 0;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			font-family: "Arial";
			background: #212121;
			color: #fff;
		}
		.test_container {
			width: 90%;
			height: 90%;
			position: relative;
			display: grid;
			grid-template-columns: 49% 49%;
			justify-content: space-between;
			align-items: center;
		}
		.question_wrapper {
			width: 100%;
			height: 100%;
			position: relative;
			margin: 0;
			border: solid thin #fff;
			overflow-y: auto;
			border-radius: 7px;
		}
		.question_container {
			width: 100%;
			height: 100%;
			position: relative;
			display: flex;
			flex-direction: column;
			gap: 1rem;
			margin: 0;
		}
		.question {
			display: grid;
			grid-template-columns: 10% 75% 10%;
			align-items: center;
			justify-content: space-between;
			width: 100%;
			position: relative;
			padding: 0.5rem 0;
		}
		.answered {
			background-color: #05a3d2; /* Highlighted background */
		}
		.question span {
			text-align: center;
		}
		.questions_choices {
			display: grid;
			grid-template-columns: 19% 19% 19% 19% 19%;
			justify-content: space-between;
			align-items: center;
			width: 100%;
			position: relative;
		}
		.questions_choice {
			display: flex;
			align-items: center;
			width: 100%;
			gap: 1rem;
			margin: 0;
		}
		.results_wrapper {
			width: 100%;
			height: 100%;
			position: relative;
			margin: 0;
			display: grid;
			grid-template-rows: 48% 48%;
			gap: 4%;
		}
		.score_container, .results_container {
			width: 100%;
			height: 100%;
			position: relative;
			margin: 0;
			border: thin solid #fff;
			border-radius: 7px;
		}
		.score_container {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
		}
		.score {
			font-size: 50px;
			font-weight: bold;
			color: #fff;
		}
		input {
			margin: 0 	;
		}
	</style>
</head>
<body>
	<div>
		<b>Input Number of Questions: </b>
		<input type="number" id="number_of_questions" min="1" value="1">
		<button onclick="generateQuestions()">Submit</button>
	</div>
	<br><br>
	<div class="test_container">
		<div class="question_wrapper">
			<div class="question_container" id="question_container"></div>
		</div>
		<div class="results_wrapper">
			<div class="score_container">
				<h1 id="test_score" class="score">Score: 0/0</h1>
			</div>
			<div class="results_container">
				
			</div>
		</div>
	</div>
	
	<script>
		function generateQuestions() {
			const container = document.getElementById('question_container');
			container.innerHTML = ''; // Clear existing questions
			const numQuestions = parseInt(document.getElementById('number_of_questions').value);

			for (let i = 1; i <= numQuestions; i++) {
				const questionDiv = document.createElement('div');
				questionDiv.className = 'question';

				// Question Number
				const questionNumber = document.createElement('span');
				questionNumber.textContent = i;

				// Choices
				const choicesDiv = document.createElement('div');
				choicesDiv.className = 'questions_choices';
				for (let j = 1; j <= 5; j++) {
					// Create a wrapper for input and label
					const choiceWrapper = document.createElement('div');
					choiceWrapper.className = 'questions_choice';

					const choiceInput = document.createElement('input');
					choiceInput.type = 'radio';
					choiceInput.name = `question_${i}`;
					choiceInput.value = j;

					// Add event listener to update the background color
					choiceInput.addEventListener('change', () => markAnswered(questionDiv));

					const choiceLabel = document.createElement('label');
					choiceLabel.textContent = j;

					choiceWrapper.appendChild(choiceInput);
					choiceWrapper.appendChild(choiceLabel);
					choicesDiv.appendChild(choiceWrapper);
				}

				// Checkbox for marking answers
				const manualCheckbox = document.createElement('input');
				manualCheckbox.type = 'checkbox';
				manualCheckbox.dataset.question = i; // Associate with question
				manualCheckbox.addEventListener('change', updateScore); // Update score on change

				// Append elements to questionDiv
				questionDiv.appendChild(questionNumber);
				questionDiv.appendChild(choicesDiv);
				questionDiv.appendChild(manualCheckbox);

				// Append questionDiv to container
				container.appendChild(questionDiv);
			}

			// Reset score display
			document.getElementById('test_score').textContent = `Score: 0/${numQuestions}`;
		}

		function updateScore() {
			let score = 0;

			// Count all checked checkboxes
			const allCheckboxes = document.querySelectorAll('.question input[type="checkbox"]');
			allCheckboxes.forEach(cb => {
				if (cb.checked) score++;
			});

			// Update score display
			const totalQuestions = allCheckboxes.length;
			document.getElementById('test_score').textContent = `Score: ${score}/${totalQuestions}`;
		}

		function markAnswered(questionDiv) {
			// Add "answered" class to retain the highlight for this question
			questionDiv.classList.add('answered');
		}
	</script>
</body>
</html>
